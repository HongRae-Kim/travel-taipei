{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimhongrae/Desktop/travel-taipei/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\n\ntype ApiEnvelope<T> = {\n  success: boolean;\n  data: T;\n  message?: string;\n};\n\ntype WeatherResponse = {\n  city: string;\n  temperature: number;\n  feelsLike: number;\n  humidity: number;\n  description: string;\n  iconUrl: string;\n  windSpeed: number;\n};\n\ntype ExchangeRateResponse = {\n  currency: string;\n  baseRate: number;\n  buyRate: number;\n  sellRate: number;\n  date: string;\n};\n\ntype SpotResponse = {\n  id: string;\n  name: string;\n  type: string;\n  rating: number | null;\n  address: string;\n  photoUrl: string | null;\n  lat: number;\n  lng: number;\n  distanceKm: number;\n  reason: string;\n};\n\ntype SpotDetailResponse = {\n  id: string;\n  name: string;\n  type: string;\n  rating: number | null;\n  address: string;\n  phone: string | null;\n  website: string | null;\n  openingHours: string[];\n  photoUrls: string[];\n  lat: number;\n  lng: number;\n};\n\ntype PhraseResponse = {\n  id: number;\n  category: string;\n  korean: string;\n  chinese: string;\n  pronunciation: string;\n};\n\ntype WeatherForecastItem = {\n  date: string;\n  minTemp: number;\n  maxTemp: number;\n  description: string;\n  iconUrl: string;\n};\n\ntype SpotFilters = {\n  type: \"restaurant\" | \"cafe\" | \"attraction\";\n  radius: string;\n  openNow: boolean;\n  minRating: string;\n};\n\nconst INITIAL_FILTERS: SpotFilters = {\n  type: \"restaurant\",\n  radius: \"5000\",\n  openNow: false,\n  minRating: \"\",\n};\n\nconst PHRASE_CATEGORIES = [\n  { value: \"airport\", label: \"‚úàÔ∏è Í≥µÌï≠\" },\n  { value: \"transport\", label: \"üöá ÍµêÌÜµ\" },\n  { value: \"hotel\", label: \"üè® ÏàôÏÜå\" },\n  { value: \"restaurant\", label: \"üçú ÏùåÏãùÏ†ê\" },\n  { value: \"shopping\", label: \"üõç ÏáºÌïë\" },\n  { value: \"emergency\", label: \"üö® Í∏¥Í∏â\" },\n];\n\ntype Tab = \"home\" | \"phrase\" | \"spot\";\n\nfunction travelTime(distanceKm: number) {\n  const walkMin = Math.max(1, Math.round((distanceKm / 4.5) * 60));\n  const transitMin = Math.max(5, Math.round((distanceKm / 22) * 60));\n  return { walkMin, transitMin };\n}\n\nfunction typeLabel(type: string) {\n  if (type === \"restaurant\") return \"ÎßõÏßë\";\n  if (type === \"cafe\") return \"Ïπ¥Ìéò\";\n  return \"Í¥ÄÍ¥ëÏßÄ\";\n}\n\nasync function requestApi<T>(url: string): Promise<T> {\n  const response = await fetch(url, { cache: \"no-store\" });\n  let payload: ApiEnvelope<T> | null = null;\n  try {\n    payload = (await response.json()) as ApiEnvelope<T>;\n  } catch {\n    throw new Error(\"ÏùëÎãµ ÌååÏã±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n  }\n  if (!response.ok || !payload.success) {\n    throw new Error(payload.message || \"ÏöîÏ≤≠Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n  }\n  return payload.data;\n}\n\nexport default function Home() {\n  const [activeTab, setActiveTab] = useState<Tab>(\"home\");\n\n  // ÎÇ†Ïî® / ÌôòÏú®\n  const [weather, setWeather] = useState<WeatherResponse | null>(null);\n  const [forecast, setForecast] = useState<WeatherForecastItem[]>([]);\n  const [exchange, setExchange] = useState<ExchangeRateResponse | null>(null);\n  const [loadingSummary, setLoadingSummary] = useState(true);\n  const [summaryError, setSummaryError] = useState<string | null>(null);\n  const [krwInput, setKrwInput] = useState(\"10000\");\n\n  // ÌöåÌôî\n  const [phrases, setPhrases] = useState<PhraseResponse[]>([]);\n  const [selectedCategory, setSelectedCategory] = useState(\"airport\");\n  const [loadingPhrases, setLoadingPhrases] = useState(false);\n\n  // Ïû•ÏÜå\n  const [spots, setSpots] = useState<SpotResponse[]>([]);\n  const [spotDetail, setSpotDetail] = useState<SpotDetailResponse | null>(null);\n  const [filters, setFilters] = useState<SpotFilters>(INITIAL_FILTERS);\n  const [selectedSpotId, setSelectedSpotId] = useState<string | null>(null);\n  const [userLocation, setUserLocation] = useState<{ lat: number; lng: number } | null>(null);\n  const [locating, setLocating] = useState(false);\n  const [loadingSpots, setLoadingSpots] = useState(false);\n  const [loadingDetail, setLoadingDetail] = useState(false);\n  const [spotError, setSpotError] = useState<string | null>(null);\n  const [detailError, setDetailError] = useState<string | null>(null);\n\n  useEffect(() => {\n    void loadSummary();\n    void searchSpots(INITIAL_FILTERS);\n    void loadPhrases(\"airport\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // ‚îÄ‚îÄ API Ìò∏Ï∂ú ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n  async function loadSummary() {\n    setLoadingSummary(true);\n    setSummaryError(null);\n    try {\n      const [weatherData, forecastData, exchangeData] = await Promise.all([\n        requestApi<WeatherResponse>(\"/api/travel/weather\"),\n        requestApi<WeatherForecastItem[]>(\"/api/travel/weather/forecast\"),\n        requestApi<ExchangeRateResponse>(\"/api/travel/exchange-rates\"),\n      ]);\n      setWeather(weatherData);\n      setForecast(forecastData);\n      setExchange(exchangeData);\n    } catch (error) {\n      setSummaryError(error instanceof Error ? error.message : \"Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§ÏßÄ Î™ªÌñàÏäµÎãàÎã§.\");\n    } finally {\n      setLoadingSummary(false);\n    }\n  }\n\n  async function loadPhrases(category: string) {\n    setLoadingPhrases(true);\n    try {\n      const data = await requestApi<PhraseResponse[]>(`/api/travel/phrases/${category}`);\n      setPhrases(data);\n    } catch {\n      setPhrases([]);\n    } finally {\n      setLoadingPhrases(false);\n    }\n  }\n\n  function handleCategoryChange(category: string) {\n    setSelectedCategory(category);\n    void loadPhrases(category);\n  }\n\n  async function detectLocation() {\n    if (!navigator.geolocation) {\n      setSpotError(\"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏúÑÏπò Í∞êÏßÄÎ•º ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.\");\n      return;\n    }\n    setLocating(true);\n    navigator.geolocation.getCurrentPosition(\n      (pos) => {\n        const loc = { lat: pos.coords.latitude, lng: pos.coords.longitude };\n        setUserLocation(loc);\n        setLocating(false);\n        void searchSpotsWithLocation(loc, filters);\n      },\n      () => {\n        setSpotError(\"ÏúÑÏπò Í∂åÌïúÏù¥ Í±∞Î∂ÄÎêêÏäµÎãàÎã§. Î∏åÎùºÏö∞Ï†Ä ÏÑ§Ï†ïÏóêÏÑú ÌóàÏö©Ìï¥Ï£ºÏÑ∏Ïöî.\");\n        setLocating(false);\n      }\n    );\n  }\n\n  async function searchSpotsWithLocation(\n    loc: { lat: number; lng: number } | null,\n    nextFilters: SpotFilters\n  ) {\n    setLoadingSpots(true);\n    setSpotError(null);\n    try {\n      const params = new URLSearchParams({\n        type: nextFilters.type,\n        radius: nextFilters.radius || \"5000\",\n        openNow: String(nextFilters.openNow),\n      });\n      if (loc) {\n        params.set(\"lat\", String(loc.lat));\n        params.set(\"lng\", String(loc.lng));\n      }\n      if (nextFilters.minRating.trim()) {\n        params.set(\"minRating\", nextFilters.minRating.trim());\n      }\n      const data = await requestApi<SpotResponse[]>(`/api/travel/spots?${params.toString()}`);\n      setSpots(data);\n      setSpotDetail(null);\n      setSelectedSpotId(null);\n    } catch (error) {\n      setSpots([]);\n      setSpotError(error instanceof Error ? error.message : \"Ïû•ÏÜå Î™©Î°ù Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n    } finally {\n      setLoadingSpots(false);\n    }\n  }\n\n  function searchSpots(nextFilters = filters) {\n    return searchSpotsWithLocation(userLocation, nextFilters);\n  }\n\n  async function loadSpotDetail(spotId: string) {\n    setLoadingDetail(true);\n    setDetailError(null);\n    setSelectedSpotId(spotId);\n    try {\n      const detail = await requestApi<SpotDetailResponse>(\n        `/api/travel/spots/${spotId}?type=${filters.type}`\n      );\n      setSpotDetail(detail);\n    } catch (error) {\n      setSpotDetail(null);\n      setDetailError(error instanceof Error ? error.message : \"Ïû•ÏÜå ÏÉÅÏÑ∏ Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n    } finally {\n      setLoadingDetail(false);\n    }\n  }\n\n  const spotCountLabel = useMemo(() => {\n    if (loadingSpots) return \"Ï°∞Ìöå Ï§ë...\";\n    return `${spots.length}Í∞ú Ïû•ÏÜå`;\n  }, [loadingSpots, spots.length]);\n\n  // ‚îÄ‚îÄ UI ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n  return (\n    <div className=\"ui-shell\">\n\n      {/* Ìó§Îçî */}\n      <header className=\"ui-header sticky top-0 z-30\">\n        <div className=\"mx-auto flex max-w-5xl items-center justify-between px-4 py-3\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-xl\">üáπüáº</span>\n            <span className=\"bg-gradient-to-r from-teal-800 to-cyan-800 bg-clip-text text-base font-black tracking-tight text-transparent\">\n              Travel Taipei\n            </span>\n          </div>\n          {/* Îç∞Ïä§ÌÅ¨ÌÉë ÌÉ≠ */}\n          <nav className=\"hidden items-center gap-2 rounded-full border border-white/60 bg-white/60 p-1 sm:flex\">\n            {([\"home\", \"phrase\", \"spot\"] as Tab[]).map((tab) => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`ui-tab ${activeTab === tab ? \"ui-tab-active\" : \"\"}`}\n              >\n                {tab === \"home\" ? \"üè† Ìôà\" : tab === \"phrase\" ? \"üí¨ ÌöåÌôî\" : \"üìç Ïû•ÏÜå\"}\n              </button>\n            ))}\n          </nav>\n        </div>\n      </header>\n\n      {/* ÏΩòÌÖêÏ∏† */}\n      <main className=\"mx-auto max-w-5xl px-4 pb-24 pt-6 sm:pb-10\">\n\n        {/* ‚îÄ‚îÄ Ìôà ÌÉ≠ ‚îÄ‚îÄ */}\n        {activeTab === \"home\" && (\n          <div className=\"grid gap-4\">\n            <section className=\"ui-hero ui-appear rounded-3xl p-5 text-white sm:p-6\">\n              <p className=\"text-xs font-semibold uppercase tracking-[0.18em] text-white/75\">\n                Live Travel Snapshot\n              </p>\n              <div className=\"mt-2 flex flex-col justify-between gap-3 sm:flex-row sm:items-end\">\n                <div>\n                  <h1 className=\"text-2xl font-black leading-tight sm:text-3xl\">\n                    Taipei Trip Control Panel\n                  </h1>\n                  <p className=\"mt-1 text-sm text-white/85\">\n                    ÎÇ†Ïî®, ÌôòÏú®, Ïû•ÏÜå Ï∂îÏ≤úÏùÑ Ìïú ÌôîÎ©¥ÏóêÏÑú Í¥ÄÎ¶¨ÌïòÏÑ∏Ïöî.\n                  </p>\n                </div>\n                <div className=\"rounded-2xl border border-white/40 bg-white/20 px-4 py-2 text-right\">\n                  <p className=\"text-[11px] uppercase tracking-[0.18em] text-white/70\">Updated</p>\n                  <p className=\"text-sm font-semibold\">\n                    {new Date().toLocaleDateString(\"ko-KR\", {\n                      month: \"long\",\n                      day: \"numeric\",\n                      weekday: \"short\",\n                    })}\n                  </p>\n                </div>\n              </div>\n            </section>\n            {summaryError && (\n              <div className=\"ui-panel ui-appear rounded-2xl border-rose-300/70 bg-rose-50/85 px-4 py-3 text-sm text-rose-700\">\n                {summaryError}\n              </div>\n            )}\n\n            {/* ÎÇ†Ïî® */}\n            <section className=\"ui-panel ui-appear rounded-2xl p-5\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"font-bold text-slate-800\">ÌÉÄÏù¥Î≤†Ïù¥ ÌòÑÏû¨ ÎÇ†Ïî®</h2>\n                <button\n                  onClick={() => void loadSummary()}\n                  className=\"rounded-lg border border-white/70 bg-white/70 px-3 py-1 text-xs font-semibold text-slate-600 hover:bg-white\"\n                >\n                  ÏÉàÎ°úÍ≥†Ïπ®\n                </button>\n              </div>\n              {loadingSummary ? (\n                <p className=\"mt-4 text-sm text-slate-400\">Î∂àÎü¨Ïò§Îäî Ï§ë...</p>\n              ) : weather ? (\n                <>\n                  <div className=\"mt-4 flex items-center gap-4\">\n                    {weather.iconUrl && (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img src={weather.iconUrl} alt={weather.description} className=\"h-16 w-16\" />\n                    )}\n                    <div>\n                      <p className=\"text-4xl font-black\">{weather.temperature.toFixed(1)}¬∞C</p>\n                      <p className=\"mt-1 text-sm font-medium text-slate-500\">{weather.description}</p>\n                    </div>\n                  </div>\n                  <div className=\"mt-4 grid grid-cols-3 gap-2 text-center text-xs\">\n                    {[\n                      { label: \"Ï≤¥Í∞ê\", value: `${weather.feelsLike.toFixed(1)}¬∞C` },\n                      { label: \"ÏäµÎèÑ\", value: `${weather.humidity}%` },\n                      { label: \"ÌíçÏÜç\", value: `${weather.windSpeed.toFixed(1)}m/s` },\n                    ].map((item) => (\n                      <div key={item.label} className=\"rounded-xl bg-slate-50 py-2\">\n                        <p className=\"text-slate-400\">{item.label}</p>\n                        <p className=\"mt-0.5 font-bold text-slate-700\">{item.value}</p>\n                      </div>\n                    ))}\n                  </div>\n                </>\n              ) : (\n                <p className=\"mt-4 text-sm text-slate-400\">ÎÇ†Ïî® Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå</p>\n              )}\n            </section>\n\n            {/* 5Ïùº ÏòàÎ≥¥ */}\n            {forecast.length > 0 && (\n              <section className=\"ui-panel ui-appear rounded-2xl p-5\">\n                <h2 className=\"font-bold text-slate-700\">5Ïùº ÏòàÎ≥¥</h2>\n                <div className=\"mt-3 grid grid-cols-3 gap-2 sm:grid-cols-6\">\n                  {forecast.map((day) => (\n                    <div\n                      key={day.date}\n                      className=\"flex flex-col items-center rounded-xl border border-white/70 bg-white/70 py-3 text-center\"\n                    >\n                      <p className=\"text-xs font-semibold text-slate-400\">\n                        {new Date(day.date + \"T00:00:00\").toLocaleDateString(\"ko-KR\", {\n                          month: \"numeric\",\n                          day: \"numeric\",\n                          weekday: \"short\",\n                        })}\n                      </p>\n                      {day.iconUrl ? (\n                        // eslint-disable-next-line @next/next/no-img-element\n                        <img src={day.iconUrl} alt={day.description} className=\"h-10 w-10\" />\n                      ) : (\n                        <div className=\"h-10 w-10\" />\n                      )}\n                      <p className=\"text-xs text-slate-500\">{day.description}</p>\n                      <div className=\"mt-1 flex gap-1 text-xs font-bold\">\n                        <span className=\"text-blue-500\">{day.minTemp.toFixed(0)}¬∞</span>\n                        <span className=\"text-slate-300\">/</span>\n                        <span className=\"text-orange-400\">{day.maxTemp.toFixed(0)}¬∞</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </section>\n            )}\n\n            {/* ÌôòÏú® */}\n            <section className=\"ui-panel ui-appear rounded-2xl p-5\">\n              <h2 className=\"font-bold text-slate-700\">ÌôòÏú® ¬∑ KRW ‚Üî TWD</h2>\n              {loadingSummary ? (\n                <p className=\"mt-4 text-sm text-slate-400\">Î∂àÎü¨Ïò§Îäî Ï§ë...</p>\n              ) : exchange ? (\n                <div className=\"mt-4 grid gap-4\">\n                  <p className=\"text-2xl font-black\">\n                    {exchange.baseRate.toFixed(2)}\n                    <span className=\"ml-1 text-sm font-semibold text-slate-400\">Ïõê = 1 TWD</span>\n                  </p>\n\n                  {/* Í≥ÑÏÇ∞Í∏∞ */}\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex flex-1 items-center gap-1 rounded-xl border border-white/70 bg-white/70 px-3 py-2.5\">\n                      <input\n                        type=\"number\"\n                        value={krwInput}\n                        onChange={(e) => setKrwInput(e.target.value)}\n                        className=\"w-full bg-transparent text-right font-bold outline-none\"\n                        min={0}\n                      />\n                      <span className=\"shrink-0 text-sm font-semibold text-slate-400\">Ïõê</span>\n                    </div>\n                    <span className=\"shrink-0 text-slate-300\">‚Üí</span>\n                    <div className=\"flex flex-1 items-center gap-1 rounded-xl border border-amber-300/80 bg-amber-50/85 px-3 py-2.5\">\n                      <span className=\"w-full text-right font-bold text-amber-700\">\n                        {exchange.baseRate > 0 && krwInput\n                          ? (parseFloat(krwInput) / exchange.baseRate).toFixed(2)\n                          : \"0.00\"}\n                      </span>\n                      <span className=\"shrink-0 text-sm font-semibold text-amber-500\">TWD</span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-2\">\n                    {[1000, 5000, 10000, 50000].map((v) => (\n                      <button\n                        key={v}\n                        onClick={() => setKrwInput(String(v))}\n                        className=\"rounded-lg border border-white/70 bg-white/75 px-2.5 py-1 text-xs font-semibold text-slate-700 hover:bg-white\"\n                      >\n                        {v.toLocaleString()}\n                      </button>\n                    ))}\n                  </div>\n\n                  <p className=\"text-xs text-slate-400\">Í∏∞Ï§ÄÏùº {exchange.date}</p>\n                </div>\n              ) : (\n                <p className=\"mt-4 text-sm text-slate-400\">ÌôòÏú® Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå</p>\n              )}\n            </section>\n          </div>\n        )}\n\n        {/* ‚îÄ‚îÄ ÌöåÌôî ÌÉ≠ ‚îÄ‚îÄ */}\n        {activeTab === \"phrase\" && (\n          <div className=\"grid gap-4\">\n            {/* Ïπ¥ÌÖåÍ≥†Î¶¨ Ïπ© */}\n            <div className=\"flex flex-wrap gap-2\">\n              {PHRASE_CATEGORIES.map((cat) => (\n                <button\n                  key={cat.value}\n                  onClick={() => handleCategoryChange(cat.value)}\n                  className={`ui-chip px-4 py-1.5 text-sm font-semibold transition ${\n                    selectedCategory === cat.value\n                      ? \"ui-chip-active text-teal-900\"\n                      : \"text-slate-600 hover:bg-white\"\n                  }`}\n                >\n                  {cat.label}\n                </button>\n              ))}\n            </div>\n\n            {/* Î¨∏Íµ¨ Î™©Î°ù */}\n            <div className=\"grid gap-2\">\n              {loadingPhrases ? (\n                <p className=\"py-10 text-center text-sm text-slate-400\">Î∂àÎü¨Ïò§Îäî Ï§ë...</p>\n              ) : (\n                phrases.map((phrase) => (\n                  <div\n                    key={phrase.id}\n                    className=\"ui-panel ui-appear rounded-2xl p-4\"\n                  >\n                    <p className=\"text-sm text-slate-500\">{phrase.korean}</p>\n                    <p className=\"mt-1 text-lg font-bold text-slate-900\">{phrase.chinese}</p>\n                    <p className=\"mt-1 text-sm font-semibold text-teal-700\">{phrase.pronunciation}</p>\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* ‚îÄ‚îÄ Ïû•ÏÜå ÌÉ≠ ‚îÄ‚îÄ */}\n        {activeTab === \"spot\" && (\n          <div className=\"grid gap-4\">\n            {/* ÌïÑÌÑ∞ Î∞î */}\n            <div className=\"ui-panel ui-appear rounded-2xl p-4\">\n              <div className=\"flex flex-wrap gap-2\">\n                {([\"restaurant\", \"cafe\", \"attraction\"] as const).map((t) => (\n                  <button\n                    key={t}\n                    onClick={() => {\n                      const next = { ...filters, type: t };\n                      setFilters(next);\n                      void searchSpots(next);\n                    }}\n                    className={`ui-chip px-3 py-1.5 text-sm font-semibold transition ${\n                      filters.type === t\n                        ? \"ui-chip-active text-teal-900\"\n                        : \"text-slate-600 hover:bg-white\"\n                    }`}\n                  >\n                    {typeLabel(t)}\n                  </button>\n                ))}\n\n                <select\n                  value={filters.radius}\n                  onChange={(e) => setFilters((prev) => ({ ...prev, radius: e.target.value }))}\n                  className=\"ui-chip px-3 py-1.5 text-sm font-semibold text-slate-600\"\n                >\n                  <option value=\"1000\">1km</option>\n                  <option value=\"3000\">3km</option>\n                  <option value=\"5000\">5km</option>\n                  <option value=\"10000\">10km</option>\n                </select>\n\n                <select\n                  value={filters.minRating}\n                  onChange={(e) => setFilters((prev) => ({ ...prev, minRating: e.target.value }))}\n                  className=\"ui-chip px-3 py-1.5 text-sm font-semibold text-slate-600\"\n                >\n                  <option value=\"\">ÌèâÏ†ê Ï†ÑÏ≤¥</option>\n                  <option value=\"3.5\">3.5+</option>\n                  <option value=\"4.0\">4.0+</option>\n                  <option value=\"4.5\">4.5+</option>\n                </select>\n\n                <label className=\"ui-chip flex cursor-pointer items-center gap-1.5 px-3 py-1.5 text-sm font-semibold text-slate-600\">\n                  <input\n                    type=\"checkbox\"\n                    checked={filters.openNow}\n                    onChange={(e) => setFilters((prev) => ({ ...prev, openNow: e.target.checked }))}\n                    className=\"accent-teal-600\"\n                  />\n                  ÏòÅÏóÖ Ï§ë\n                </label>\n              </div>\n\n              <div className=\"mt-3 flex items-center justify-between gap-2\">\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => void detectLocation()}\n                    disabled={locating}\n                    className={`flex items-center gap-1.5 rounded-xl px-3 py-2 text-sm font-semibold transition disabled:opacity-50 ${\n                      userLocation\n                        ? \"border border-teal-300/80 bg-teal-100/70 text-teal-800\"\n                        : \"bg-slate-900 text-white hover:bg-slate-800\"\n                    }`}\n                  >\n                    üìç {locating ? \"Í∞êÏßÄ Ï§ë...\" : userLocation ? \"ÏúÑÏπò Í∞êÏßÄÎê®\" : \"ÌòÑÏû¨ ÏúÑÏπò\"}\n                  </button>\n                  <button\n                    onClick={() => void searchSpots()}\n                    className=\"rounded-xl bg-gradient-to-r from-teal-700 to-cyan-700 px-3 py-2 text-sm font-semibold text-white hover:from-teal-600 hover:to-cyan-600\"\n                  >\n                    Ï°∞Ìöå\n                  </button>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-xs text-slate-400\">{spotCountLabel}</span>\n                  {(userLocation || filters.minRating || filters.openNow) && (\n                    <button\n                      onClick={() => {\n                        setFilters(INITIAL_FILTERS);\n                        setUserLocation(null);\n                        void searchSpotsWithLocation(null, INITIAL_FILTERS);\n                      }}\n                      className=\"text-xs font-semibold text-slate-400 underline\"\n                    >\n                      Ï¥àÍ∏∞Ìôî\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {spotError && (\n              <div className=\"ui-panel rounded-2xl border-rose-300/70 bg-rose-50/85 px-4 py-3 text-sm text-rose-700\">\n                {spotError}\n              </div>\n            )}\n\n            {/* Ïû•ÏÜå Î™©Î°ù + ÏÉÅÏÑ∏ */}\n            <div className=\"grid gap-3 lg:grid-cols-[1fr_380px]\">\n              {/* Î™©Î°ù */}\n              <div className=\"grid gap-2 lg:max-h-[calc(100vh-220px)] lg:overflow-y-auto lg:pr-1\">\n                {loadingSpots ? (\n                  <p className=\"ui-panel rounded-2xl py-10 text-center text-sm text-slate-400\">\n                    Ïû•ÏÜåÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë...\n                  </p>\n                ) : spots.length === 0 ? (\n                  <p className=\"ui-panel rounded-2xl py-10 text-center text-sm text-slate-400\">\n                    Ï°∞Í±¥Ïóê ÎßûÎäî Ïû•ÏÜåÍ∞Ä ÏóÜÏäµÎãàÎã§.\n                  </p>\n                ) : (\n                  spots.map((spot) => (\n                    <button\n                      key={spot.id}\n                      onClick={() => void loadSpotDetail(spot.id)}\n                      className={`ui-panel flex gap-3 rounded-2xl p-4 text-left transition ${\n                        selectedSpotId === spot.id\n                          ? \"border-teal-400 ring-1 ring-teal-300\"\n                          : \"hover:border-slate-300\"\n                      }`}\n                    >\n                      {/* Ïç∏ÎÑ§Ïùº */}\n                      <div className=\"shrink-0\">\n                        {spot.photoUrl ? (\n                          // eslint-disable-next-line @next/next/no-img-element\n                          <img\n                            src={spot.photoUrl}\n                            alt={spot.name}\n                            className=\"h-16 w-16 rounded-xl object-cover\"\n                          />\n                        ) : (\n                          <div className=\"flex h-16 w-16 items-center justify-center rounded-xl bg-slate-100 text-2xl\">\n                            {spot.type === \"restaurant\" ? \"üçú\" : spot.type === \"cafe\" ? \"‚òï\" : \"üèõ\"}\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Ï†ïÎ≥¥ */}\n                      <div className=\"min-w-0 flex-1\">\n                        <div className=\"flex items-start justify-between gap-2\">\n                          <p className=\"truncate font-bold\">{spot.name}</p>\n                          <span className=\"shrink-0 text-sm font-semibold text-amber-500\">\n                            ‚òÖ {spot.rating?.toFixed(1) ?? \"-\"}\n                          </span>\n                        </div>\n                        <p className=\"mt-0.5 truncate text-xs text-slate-500\">{spot.address}</p>\n                        <div className=\"mt-2 flex flex-wrap gap-1.5\">\n                          <span className=\"rounded-full bg-emerald-50 px-2 py-0.5 text-xs font-semibold text-emerald-700\">\n                            {spot.distanceKm.toFixed(2)}km\n                          </span>\n                          {userLocation && (() => {\n                            const { walkMin, transitMin } = travelTime(spot.distanceKm);\n                            return (\n                              <>\n                                <span className=\"rounded-full bg-blue-50 px-2 py-0.5 text-xs font-semibold text-blue-600\">\n                                  üö∂ {walkMin}Î∂Ñ\n                                </span>\n                                <span className=\"rounded-full bg-violet-50 px-2 py-0.5 text-xs font-semibold text-violet-600\">\n                                  üöå {transitMin}Î∂Ñ\n                                </span>\n                              </>\n                            );\n                          })()}\n                          <span className=\"rounded-full bg-amber-50 px-2 py-0.5 text-xs text-amber-700\">\n                            {spot.reason}\n                          </span>\n                        </div>\n                      </div>\n                    </button>\n                  ))\n                )}\n              </div>\n\n              {/* ÏÉÅÏÑ∏ Ìå®ÎÑê */}\n              {selectedSpotId && (\n                <aside className=\"ui-panel rounded-2xl lg:max-h-[calc(100vh-220px)] lg:overflow-y-auto\">\n                  {loadingDetail ? (\n                    <p className=\"p-6 text-sm text-slate-400\">ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</p>\n                  ) : detailError ? (\n                    <p className=\"p-6 text-sm text-rose-600\">{detailError}</p>\n                  ) : spotDetail ? (\n                    <>\n                      {/* ÎåÄÌëú ÏÇ¨ÏßÑ */}\n                      {spotDetail.photoUrls[0] ? (\n                        // eslint-disable-next-line @next/next/no-img-element\n                        <img\n                          src={spotDetail.photoUrls[0]}\n                          alt={spotDetail.name}\n                          className=\"h-44 w-full rounded-t-2xl object-cover\"\n                        />\n                      ) : (\n                        <div className=\"flex h-32 items-center justify-center rounded-t-2xl bg-slate-100 text-4xl\">\n                          {spotDetail.type === \"restaurant\" ? \"üçú\" : spotDetail.type === \"cafe\" ? \"‚òï\" : \"üèõ\"}\n                        </div>\n                      )}\n\n                      <div className=\"p-4\">\n                        <div className=\"flex items-start justify-between gap-2\">\n                          <p className=\"text-lg font-bold\">{spotDetail.name}</p>\n                          <span className=\"shrink-0 text-sm font-bold text-amber-500\">\n                            ‚òÖ {spotDetail.rating?.toFixed(1) ?? \"-\"}\n                          </span>\n                        </div>\n                        <p className=\"mt-1 text-sm text-slate-500\">{spotDetail.address}</p>\n\n                        {spotDetail.phone && (\n                          <a\n                            href={`tel:${spotDetail.phone}`}\n                            className=\"mt-2 flex items-center gap-1.5 text-sm font-semibold text-teal-600\"\n                          >\n                            üìû {spotDetail.phone}\n                          </a>\n                        )}\n\n                        {spotDetail.website && (\n                          <a\n                            href={spotDetail.website}\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                            className=\"mt-1 flex items-center gap-1.5 text-sm font-semibold text-teal-600 underline\"\n                          >\n                            üîó ÏõπÏÇ¨Ïù¥Ìä∏\n                          </a>\n                        )}\n\n                        {spotDetail.openingHours.length > 0 && (\n                          <div className=\"mt-3 rounded-xl border border-white/70 bg-white/70 p-3\">\n                            <p className=\"text-xs font-bold text-slate-400\">ÏòÅÏóÖ ÏãúÍ∞Ñ</p>\n                            <ul className=\"mt-1 grid gap-0.5\">\n                              {spotDetail.openingHours.map((line) => (\n                                <li key={line} className=\"text-xs text-slate-600\">{line}</li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n\n                        {/* Í∞ÄÎäî Í∏∏ */}\n                        <div className=\"mt-3 rounded-xl border border-white/70 bg-white/70 p-3\">\n                          <p className=\"text-xs font-bold text-slate-400\">Í∞ÄÎäî Í∏∏</p>\n                          {userLocation && (() => {\n                            const matched = spots.find((s) => s.id === selectedSpotId);\n                            if (!matched) return null;\n                            const { walkMin, transitMin } = travelTime(matched.distanceKm);\n                            return (\n                              <div className=\"mt-2 flex gap-2\">\n                                <span className=\"rounded-full bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-700\">\n                                  üö∂ ÎèÑÎ≥¥ {walkMin}Î∂Ñ\n                                </span>\n                                <span className=\"rounded-full bg-violet-100 px-2 py-1 text-xs font-semibold text-violet-700\">\n                                  üöå ÎåÄÏ§ëÍµêÌÜµ {transitMin}Î∂Ñ\n                                </span>\n                              </div>\n                            );\n                          })()}\n                          <div className=\"mt-2 grid grid-cols-2 gap-2\">\n                            <a\n                              href={\n                                userLocation\n                                  ? `https://www.google.com/maps/dir/${userLocation.lat},${userLocation.lng}/${spotDetail.lat},${spotDetail.lng}`\n                                  : `https://www.google.com/maps/dir//${spotDetail.lat},${spotDetail.lng}`\n                              }\n                              target=\"_blank\"\n                              rel=\"noreferrer\"\n                              className=\"flex items-center justify-center gap-1 rounded-xl bg-slate-900 py-2.5 text-xs font-semibold text-white\"\n                            >\n                              üó∫ Google\n                            </a>\n                            <a\n                              href={`https://map.kakao.com/link/to/${encodeURIComponent(spotDetail.name)},${spotDetail.lat},${spotDetail.lng}`}\n                              target=\"_blank\"\n                              rel=\"noreferrer\"\n                              className=\"flex items-center justify-center gap-1 rounded-xl bg-yellow-400 py-2.5 text-xs font-semibold text-yellow-900\"\n                            >\n                              üó∫ Ïπ¥Ïπ¥Ïò§Îßµ\n                            </a>\n                          </div>\n                        </div>\n\n                        {/* Ï∂îÍ∞Ä ÏÇ¨ÏßÑ */}\n                        {spotDetail.photoUrls.length > 1 && (\n                          <div className=\"mt-3 flex gap-2 overflow-x-auto\">\n                            {spotDetail.photoUrls.slice(1).map((url, i) => (\n                              // eslint-disable-next-line @next/next/no-img-element\n                              <img\n                                key={i}\n                                src={url}\n                                alt={`${spotDetail.name} ${i + 2}`}\n                                className=\"h-20 w-20 shrink-0 rounded-xl object-cover\"\n                              />\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    </>\n                  ) : null}\n                </aside>\n              )}\n            </div>\n          </div>\n        )}\n      </main>\n\n      {/* Î™®Î∞îÏùº ÌïòÎã® ÌÉ≠Î∞î */}\n      <nav className=\"fixed bottom-0 left-0 right-0 z-30 border-t border-white/60 bg-slate-50/85 backdrop-blur sm:hidden\">\n        <div className=\"grid grid-cols-3\">\n          {([\n            { tab: \"home\" as Tab, icon: \"üè†\", label: \"Ìôà\" },\n            { tab: \"phrase\" as Tab, icon: \"üí¨\", label: \"ÌöåÌôî\" },\n            { tab: \"spot\" as Tab, icon: \"üìç\", label: \"Ïû•ÏÜå\" },\n          ]).map(({ tab, icon, label }) => (\n            <button\n              key={tab}\n              onClick={() => setActiveTab(tab)}\n              className={`flex flex-col items-center gap-0.5 py-3 text-xs font-semibold transition ${\n                activeTab === tab ? \"text-teal-700\" : \"text-slate-500\"\n              }`}\n            >\n              <span className=\"text-xl\">{icon}</span>\n              {label}\n              {activeTab === tab && (\n                <span className=\"mt-0.5 h-1 w-4 rounded-full bg-gradient-to-r from-teal-700 to-cyan-700\" />\n              )}\n            </button>\n          ))}\n        </div>\n      </nav>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}